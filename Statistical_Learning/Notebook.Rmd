---
title: "Samuels R Notebook"
author: Samuel Krieg
date: Juli 21, 2017
output:
  html_document:
    df_print: paged
    toc: true
    toc_depth: 2
    toc_float: true
  html_notebook: default
  pdf_document: default
  word_document: default
---
[Textbook](http://www-bcf.usc.edu/~gareth/ISL/data.html)

# R Markdown

## Help

[R Markdown: The Definitive Guide](https://bookdown.org/yihui/rmarkdown/)

[R Markdown Help](http://rmarkdown.rstudio.com/authoring_pandoc_markdown.html)

## Tabs {.tabset}

### Tab 1

Content 1

### Tab 2

Content 2

# Basic Commands

## Defining Variables
```{r}
x <- 5
x
y = 9
y
```
## Vector
Create a Vector of Numbers
```{r}
x = c(1,3,2,5)
x
```
Addition of two Vectors
```{r}
x = c(1,3,2,5)
y = c(2,4,3,6)
x + y
```
## Using Functions
```{r}
x = c(1,3,2,5)
length(x)
```

Using the Help for functions bei ?functionname
```{r}
?length()
```
## Sequence 
```{r}
x = seq(1,10)
x
```
```{r}
x = 2:11
x
```
```{r}
x = seq(-pi,pi,length =10)
x
```

## Matrix
### Create a Matrix
```{r}
x = matrix(data=c(1,2,3,4),nrow=2,ncol=2)
x
```
Short version
```{r}
x = matrix(c(1,2,3,4),2,2)
```

Change filling order to row fill
```{r}
matrix(c(1,2,3,4),2,2,byrow=TRUE)
```
### Select element from matrix
```{r}
x[2,1]
```
### Subsection from matrix
```{r}
x = matrix(1:16 ,4 ,4)
x
x [c(1,3),c(2,4)]
x [1:3,2:4]
x [1:2,]
x [-c(1,3),]
```
### Dimensions
```{r}
dim(x)
```
## Dataframe
Set a Dataframe from two Vectors
```{r}
vector1 = c(1:10)
vector2 = c(5:14)
df = data.frame(vector1, vector2)
```
## Objects
List all of the saved objects(data and functions)
```{r}
ls()
```
### Remove objects
```{r}
rm(y)
ls()
```
### Remove all objects
```{r}
rm(list=ls())
ls()
```



## Random Numbers
Generate random normal distributed variables with mean of 0 and a standard deviation of 1
```{r}
x = rnorm(10)
x
```
```{r}
y = rnorm(10,mean=10,sd=0.1)
y
```
Set seed for the RNG
```{r}
set.seed(232)
rnorm(10)
```

# Statistical Functions
## Correlation
Compute the correlation of numbersets
```{r}
x = rnorm (50)
y = x + rnorm (50 , mean =50 , sd =.1)
cor ( x , y )
```
## Mean
```{r}
x = rnorm(100,mean=10,sd=0.1)
mean(x)
```
## Variance
```{r}
x = rnorm(100,mean=10,sd=0.1)
var(x)
```
## Standard deviation
```{r}
x = rnorm(100,mean=10,sd=0.1)
sqrt(var(x))
```
# Visualization
## Plots
### Basic Plots {.tabset}
```{r}

```

#### Scatter plot
```{r}
x = rnorm (100)
y = rnorm (100)
plot (x ,y , xlab ="x axis " , ylab ="y axis", main ="Scatter plot")
```

#### Bar plot
```{r}
vector1 = c(1:10)
vector2 = c(5:14)
matrix = matrix(c(vector1, vector2), nrow=10)

barplot(matrix, beside=TRUE, ylim=c(0,15), main="Bar Plot", ylab="y axis", xlab="x axis", col="green")
```

#### Histogram
```{r}
vector1 = c(1:10)
vector2 = c(5:14)

hist(c(vector1, vector2), ylim=c(0,6), main="Histogram", ylab="y axis", xlab="x axis")
```

#### Box plot
```{r}
vector1 = c(1:10)
vector2 = c(5:14)
df = data.frame(vector1, vector2)

boxplot(df, ylim=c(0,15), main="Box Plot", ylab="y axis", xlab="x axis")
```

#### Contour plot
```{r}
x = seq (1 ,10)
y = x
f = outer (x ,y , function (x , y ) cos ( y ) /(1+ x ^2) )
fa =( f - t ( f ) ) /2
contour (x ,y , fa , nlevels =45)
```

#### Heat map
```{r}
x = seq (1 ,10)
y = x
f = outer (x ,y , function (x , y ) cos ( y ) /(1+ x ^2) )
fa =( f - t ( f ) ) /2
image (x ,y , fa)
```

#### Three-dimensional plot

```{r}
x = seq (1 ,10)
y = x
f = outer (x ,y , function (x , y ) cos ( y ) /(1+ x ^2) )
fa =( f - t ( f ) ) /2
persp (x ,y , fa , theta =30 , phi =40)

```

### Save Plot
Save plot to an output file. There are functions for different file types(pdf(), jpeg())
```{r}
pdf("Figure.pdf")
plot(x,y,col="green")
dev.off()
```

# Data import/export
Import Data from a Text-file. fix() to view it
```{r}
Auto=read.table("Auto.data",header=T,na.strings ="?")
```
Import Data from a Excel-File
```{r}
Auto=read.csv("Auto.csv",header=T,na.strings="?")
dim(Auto)
```
Remove Rows with empty cells
```{r}
Auto=na.omit(Auto)
dim(Auto)
```
Variable names
```{r}
names(Auto)
```


Access Dataset variables
```{r}
 plot(Auto$cylinders,Auto$mpg)
```
Add Dataset Variables to data frame
```{r}
attach (Auto)
plot(cylinders,mpg)
```
Convert Variables from Quantitative to Qualitative
```{r}
cylinders
```
```{r}
cylinders=as.factor(cylinders)
cylinders
```
Boxplot 
If x-axis is is categorial
```{r}
plot(cylinders, mpg, col="red", varwidth=T, xlab="cylinders", xlab="cylinders", ylab="MPG")
```
Histogram
```{r}
hist(mpg, col=2, breaks=15)
```
Scatterplot
```{r}
pairs(Auto)
```

```{r}
pairs(~horsepower + weight +
acceleration , Auto )
```
Identify
with Identify you can click on a data point to get the name
example: 
plot(horsepower , mpg )
identify(horsepower , mpg , name)

Summary
```{r}
summary(Auto)
summary(mpg)
```

Apply function to each colum
```{r}
sapply(Auto[,-c(2,8,9)],range)
sapply(Auto[,-c(2,8,9)], function(x){range(x)})
```
Subset
```{r}
dim(Auto)
dim(Auto[-seq(10,85),])
```
Select
horspower from all cars with 4 cylinders
```{r}
Auto[Auto$cylinders==4,4]
```
Numbers of cars with 4 cylinders
```{r}
FourCylinder <- Auto[Auto$cylinders==4,] 
FourCylinder
length(FourCylinder)
```
Min/Max
Find the Strongest Car
```{r}
print(which.max(Auto$horsepower))
Auto[which.max(Auto$horsepower),]
```
More then
Find Cars with more than 220 hp
```{r}
Auto[Auto$horsepower > 220,]
```


Find Correlation
```{r}
All_Auto_Correlation <- cor(Auto[,1:8])
sort( All_Auto_Correlation[,1] )
```
or
```{r}
AutoCor <- cor(Auto[,1:8])
lower.tri(AutoCor, diag = TRUE)
AutoCor[lower.tri(AutoCor, diag = TRUE)] <- NA
AutoCorFrame <- as.data.frame(as.table(AutoCor))
AutoCorFrame[order(-abs(AutoCorFrame$Freq)),]
```




